{"version":3,"file":"main.js","mappings":"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","sources":["webpack://mesto-project-ff/./src/scripts/cards.js","webpack://mesto-project-ff/./src/scripts/components/modal.js","webpack://mesto-project-ff/./src/scripts/components/card.js","webpack://mesto-project-ff/./src/scripts/validation.js","webpack://mesto-project-ff/./src/index.js"],"sourcesContent":["export const initialCards = [\r\n    {\r\n     name: \"Лес\",\r\n     link: \"https://images.pexels.com/photos/2662116/pexels-photo-2662116.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940\"\r\n    },\r\n    {\r\n     name: \"Озеро\",   \r\n     link: \"https://cdn.pixabay.com/photo/2015/04/23/22/00/tree-736885_1280.jpg\"\r\n    },\r\n    {\r\n      name: \"Архыз\",\r\n      link: \"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg\",\r\n    },\r\n    {\r\n      name: \"Челябинская область\",\r\n      link: \"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg\",\r\n    },\r\n    {\r\n      name: \"Иваново\",\r\n      link: \"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg\",\r\n    },\r\n    {\r\n      name: \"Камчатка\",\r\n      link: \"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg\",\r\n    },\r\n    {\r\n      name: \"Холмогорский район\",\r\n      link: \"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg\",\r\n    },\r\n    {\r\n      name: \"Байкал\",\r\n      link: \"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg\",\r\n    },\r\n    {\r\n      name: \"Горный пейзаж\",\r\n      link: \"https://images.unsplash.com/photo-1454496522488-7a8e488e8606?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80\",\r\n    }\r\n];","// описаны функции для работы с модальными окнами: \r\nconst popupOpendClass = \"popup_is-opened\";\r\n\r\n// Универсальная функция открытия модального окна (попапа)\r\nexport function openModal(popupElement) {\r\n  popupElement.classList.add(popupOpendClass);\r\n  // Добавляем обработчик закрытия по Esc\r\n  document.addEventListener(\"keydown\", handleEscape);\r\n}\r\n\r\n// функция закрытия модального окна (попапа)\r\nexport function closeModal(popupElement) {\r\n  popupElement.classList.remove(popupOpendClass);\r\n  // Удаляем обработчики закрытия\r\n  document.removeEventListener(\"keydown\", handleEscape);\r\n}\r\n\r\n// функция-обработчик события нажатия Esc \r\nfunction handleEscape(evt) {\r\n  if (evt.key === \"Escape\") {\r\n    const openedPopup = document.querySelector(`.${popupOpendClass}`);\r\n    if (openedPopup) {\r\n      closeModal(openedPopup);\r\n    }\r\n  }\r\n}\r\n\r\n// Обработчик закрытия по клику на оверлей\r\nexport function handleOverlayClick(evt) {\r\n  if (evt.target === evt.currentTarget) {\r\n    closeModal(evt.currentTarget);\r\n  }\r\n}","// описаны функции для работы с карточками: функция создания карточки, функции-обработчики событий удаления и лайка карточки;\r\n// добавление карточек на страницу выполнено перебором массива с данными карточек с помощью цикла. используется метод .forEach или цикл for…of.\r\nconst cardTemplate = document.getElementById('card-template').content.querySelector('.card');\r\n\r\n//Функция удаления карточки\r\nexport function deleteCard(cardElement) {\r\n    cardElement.remove();\r\n};\r\n\r\n// Переключает состояние лайка\r\nexport function likeCard(likeButton) {\r\n  likeButton.classList.toggle('card__like-button_is-active'); \r\n};\r\n\r\n//Основная функция создания карточки\r\nexport function createCard(dataObject, {onDeleteCard, onLikeCard, onOpenView}) {\r\n    const cardElement = cardTemplate.cloneNode(true);  // Клонируем шаблон\r\n    // Получаем элементы карточки\r\n    const cardImage = cardElement.querySelector('.card__image');\r\n    const cardTitle = cardElement.querySelector('.card__title');\r\n    const cardDeleteButton = cardElement.querySelector('.card__delete-button');\r\n    const likeButton = cardElement.querySelector('.card__like-button');\r\n    // Заполняем данными\r\n    cardImage.src = dataObject.link;\r\n    cardImage.alt = dataObject.name;\r\n    cardTitle.textContent = dataObject.name;\r\n    // Назначаем обработчики событий\r\n    cardDeleteButton.addEventListener('click', () => {\r\n        onDeleteCard(cardElement);\r\n    });\r\n\r\n    likeButton.addEventListener('click', () => {\r\n        onLikeCard(likeButton);\r\n    });\r\n\r\n    cardImage.addEventListener(\"click\", () => {\r\n    onOpenView(dataObject);\r\n    });\r\n\r\n    return cardElement; \r\n}","// описаны функции для валидации форм.\r\n// вызов функций enableValidation и clearValidation должен находиться в файле index.js.\r\n// А все другие функции, включая декларирование функции enableValidation и валидации форм, — в отдельном файле validation.js.\r\n// Из файла экспортируется только функция активации валидации enableValidation и функция очистки ошибок валидации clearValidation;\r\n// Вынесем все необходимые элементы формы в константы\r\n// const formElement = document.querySelectorAll(validationConfig.formSelector); //найдет все формы с классом .popup__form\r\n// const inputElement = formElement.querySelectorAll(validationConfig.inputSelector); //найдет все поля ввода с классом .popup__input\r\n// Функция, которая добавляет класс с ошибкой\r\n// Передадим текст ошибки вторым параметром\r\nconst validationConfig = {   //TODO перенести в INDES.JS\r\n  formSelector: '.popup__form',\r\n  inputSelector: '.popup__input',\r\n  submitButtonSelector: '.popup__button',\r\n  inactiveButtonClass: 'popup__button_disabled',\r\n  inputErrorClass: 'popup__input_type_error',\r\n  errorClass: 'popup__error_visible'\r\n};\r\n\r\n enableValidation(validationConfig); //TODO перенести в INDES.JS\r\n\r\n\r\n\r\nconst showInputError = (\r\n  formElement,\r\n  inputElement,\r\n  errorMessage,\r\n  validationConfig\r\n) => {\r\n  // Находим элемент ошибки внутри самой функции\r\n  const errorElement = formElement.querySelector(`.${inputElement.id}-error`);\r\n  inputElement.classList.add(validationConfig.inputErrorClass); //// добавляю элементу input класс ошибки popup__input_type_error\r\n  // Заменим содержимое span с ошибкой на переданный параметр\r\n  errorElement.textContent = errorMessage;\r\n  //  Этот класс сделает ошибку видимой, когда в поле ввода добавят некорректный текст.\r\n  errorElement.classList.add(validationConfig.errorClass);\r\n};\r\n\r\n// Функция, которая удаляет класс с ошибкой\r\nconst hideInputError = (\r\n  formElement, \r\n  inputElement, \r\n  validationConfig\r\n) => {\r\n  // Находим элемент ошибки внутри самой функции\r\n  const errorElement = formElement.querySelector(`.${inputElement.id}-error`);\r\n  inputElement.classList.remove(validationConfig.inputErrorClass); // удаляю класс ошибки с элемента input\r\n  // Скрываем сообщение об ошибке\r\n  errorElement.classList.remove(validationConfig.errorClass);\r\n  // Очистим ошибку\r\n  errorElement.textContent = \"\";\r\n};\r\n\r\n//Блокируем кнопку отправки формы\r\n//нужно проверить все поля, чтобы настроить статус кнопки.\r\n// Если все поля валидны — активировать кнопку, если хотя бы одно нет — заблокировать.\r\n//Функция hasInvalidInput только проверяет наличие невалидного поля и сигнализирует,\r\n// можно ли разблокировать кнопку сабмита. Но она ничего не делает с самой кнопкой «Отправить».\r\nconst hasInvalidInput = (inputList) => {\r\n  // проходим по этому массиву методом some\r\n  return inputList.some(inputElement => {\r\n    // Если поле не валидно, Обход массива прекратится и колбэк вернёт true\r\n    return !inputElement.validity.valid;\r\n  });\r\n};\r\n\r\n//функция toggleButtonState отключает и включает кнопку.\r\n// Функция принимает массив полей ввода\r\n// и элемент кнопки, состояние которой нужно менять\r\n\r\nconst toggleButtonState = (\r\n  inputList, \r\n  buttonElement, \r\n  validationConfig\r\n) => {\r\n  // Если есть хотя бы один невалидный инпут\r\n  if (hasInvalidInput(inputList)) {\r\n    // делаю кнопку неактивной\r\n    buttonElement.disabled = true;\r\n    buttonElement.classList.add(validationConfig.inactiveButtonClass);\r\n  } else {\r\n    // иначе делаю кнопку активной\r\n    buttonElement.disabled = false;\r\n    buttonElement.classList.remove(validationConfig.inactiveButtonClass);\r\n  }\r\n};\r\n\r\n// isValid — проверяет валидность поля, внутри вызывает showInputError или hideInputError.\r\nconst isValid = (\r\n  formElement, \r\n  inputElement, \r\n  validationConfig\r\n) => {\r\n  if (!inputElement.validity.valid) {\r\n    // Если поле не проходит валидацию, покажем ошибку\r\n    // Передадим параметром форму, в которой находится проверяемое поле, само это поле и сообщение об ошибке\r\n    showInputError(\r\n      formElement,\r\n      inputElement,\r\n      inputElement.validationMessage,\r\n      validationConfig\r\n    );\r\n  } else {\r\n    // Если проходит, скроем\r\n    hideInputError(\r\n      formElement, \r\n      inputElement, \r\n      validationConfig\r\n    );\r\n  }\r\n};\r\n\r\n// Добавление обработчиков всем полям формы\r\nconst setEventListeners = (\r\n  formElement, \r\n  validationConfig\r\n) => {\r\n  // Найдём все поля формы и сделаем из них массив методом Array.from\r\n  const inputList = Array.from(\r\n    formElement.querySelectorAll(validationConfig.inputSelector)\r\n  );\r\n  // Найдём в текущей форме кнопку отправки\r\n  const buttonElement = formElement.querySelector(\r\n    validationConfig.submitButtonSelector\r\n  );\r\n  // Вызовем toggleButtonState, чтобы заблокировать кнопку до ввода данных в поля\r\n  toggleButtonState(inputList, buttonElement, validationConfig);\r\n  // Обойдём все элементы полученной коллекции\r\n  inputList.forEach((inputElement) => {\r\n    // каждому полю добавим обработчик события input\r\n    inputElement.addEventListener(\"input\", () => {\r\n      // Внутри колбэка вызовем isValid,\r\n      // передав ей форму и проверяемый элемент\r\n      isValid(formElement, inputElement, validationConfig);\r\n      // Вызовем toggleButtonState и передадим ей массив полей и кнопку\r\n      toggleButtonState(inputList, buttonElement, validationConfig);\r\n    });\r\n  });\r\n};\r\n\r\n//Добавление обработчиков всем формам\r\nexport const enableValidation = (validationConfig) => {\r\n  // Найдём все формы с указанным классом в DOM,\r\n  // сделаем из них массив методом Array.from\r\n  const formList = Array.from(\r\n    document.querySelectorAll(validationConfig.formSelector)\r\n  );\r\n\r\n  // Переберём полученную коллекцию\r\n  formList.forEach((formElement) => {\r\n    // Для каждой формы вызовем функцию setEventListeners,\r\n    // передав ей элемент формы\r\n    setEventListeners(formElement, validationConfig);\r\n  });\r\n};\r\n\r\n// очистка ошибок валидации вызовом clearValidation\r\n\r\nexport const clearValidation = (\r\n  formElement, \r\n  validationConfig\r\n) => {\r\n  // Найдём все поля формы и сделаем из них массив методом Array.from\r\n  const inputList = Array.from(\r\n    formElement.querySelectorAll(validationConfig.inputSelector)\r\n  );\r\n  // Обойдём все элементы полученной коллекции\r\n  inputList.forEach((inputElement) => {\r\n    // удаляю класс с ошибкой\r\n    // hideInputError = (formElement, inputElement, validationConfig);\r\n    //А если из clearValidation вместо hideInputError вызвать isValid?\r\n    // Если поле не проходит валидацию, покажем ошибку, если проходит-скроет\r\n    isValid(formElement, inputElement, validationConfig);\r\n  });\r\n  // Найдём в этой форме профиля кнопку отправки\r\n  const buttonElement = formElement.querySelector(\r\n    validationConfig.submitButtonSelector\r\n  );\r\n  // делаю кнопку неактивной\r\n  buttonElement.disabled = true;\r\n  buttonElement.classList.add(validationConfig.inactiveButtonClass);\r\n};\r\n\r\n\r\n","// описана инициализация приложения и основная логика страницы:\r\n// поиск DOM-элементов на странице и навешивание на них обработчиков событий;\r\n// обработчики отправки форм, функция-обработчик события открытия модального окна для редактирования профиля;\r\n// функция открытия модального окна изображения карточки.\r\n// Также находится код, который отвечает за загрузку карточек и данных пользователя при открытии страницы.\r\n// вызов функций enableValidation и clearValidation должен находиться в файле index.js. \r\nimport './index.css'; // импорт главного файла стилей\r\nimport { initialCards } from './scripts/cards.js'; //картинки можно импортировать, вебпак добавит в переменные правильные пути\r\nimport {\r\n  openModal,\r\n  closeModal,\r\n  handleOverlayClick,\r\n} from \"./scripts/components/modal.js\";\r\nimport { createCard } from \"./scripts/components/card.js\";\r\nimport { \r\n  deleteCard,\r\n  likeCard\r\n } from './scripts/components/card.js';\r\n import {\r\n  enableValidation,\r\n  clearValidation\r\n } from './scripts/validation.js';\r\n\r\n//Получение DOM-элементов\r\nconst placesContainer = document.querySelector('.places__list'); //Контейнер для карточек\r\n//Кнопки открытия модальных окон\r\nconst openButtonProfile = document.querySelector(\".profile__edit-button\"); // // Кнопка редактирования профиля\r\nconst openButtonCard = document.querySelector(\".profile__add-button\"); // // Кнопка добавления карточки\r\n//Элементы модальных окон (попапов)\r\nconst popups = document.querySelectorAll(\".popup\"); // Все попапы\r\nconst popupProfile = document.querySelector(\".popup_type_edit\"); // Попап редактирования профиля\r\nconst popupCardAdd = document.querySelector(\".popup_type_new-card\"); // Попап добавления карточки\r\nconst imagePopup = document.querySelector(\".popup_type_image\"); // Попап просмотра изображения\r\n//Формы и их элементы\r\nconst profileForm = document.forms[\"edit-profile\"]; // Форма редактирования профиля\r\nconst newCardForm = document.forms[\"new-place\"]; // Форма добавления карточки\r\n// Поля формы редактирования профиля\r\nconst nameInput = popupProfile.querySelector(\".popup__input_type_name\"); \r\nconst jobInput = popupProfile.querySelector(\".popup__input_type_description\");\r\n// Поля формы добавления карточки\r\nconst placeInput = newCardForm.querySelector(\".popup__input_type_card-name\");\r\nconst linkInput = newCardForm.querySelector(\".popup__input_type_url\");\r\n//Элементы профиля\r\nconst profileName = document.querySelector(\".profile__title\");\r\nconst profileJob = document.querySelector(\".profile__description\");\r\n//Элементы попапа с изображением\r\nconst imageView = imagePopup.querySelector(\".popup__image\"); // Увеличенное изображение\r\nconst captionView = imagePopup.querySelector(\".popup__caption\"); // Подпись к изображению\r\n\r\n// включение валидации вызовом enableValidation\r\n// все настройки передаются при вызове\r\nconst validationConfig = {  \r\n  formSelector: '.popup__form',\r\n  inputSelector: '.popup__input',\r\n  submitButtonSelector: '.popup__button',\r\n  inactiveButtonClass: 'popup__button_disabled',\r\n  inputErrorClass: 'popup__input_type_error',\r\n  errorClass: 'popup__error_visible'\r\n};\r\n\r\nenableValidation(validationConfig);\r\n\r\n// // вызов функций clearValidation\r\n// clearValidation();\r\n\r\n\r\n// Открывает попап с увеличенным изображением\r\nfunction openView({ name, link }) {\r\n  imageView.src = link;\r\n  imageView.alt = name;\r\n  captionView.textContent = name;\r\n  openModal(imagePopup);\r\n};\r\n\r\n//Объединяю в объект cardCallbacks для передачи в createCard\r\nconst cardCallbacks = {\r\n  onDeleteCard: deleteCard,\r\n  onLikeCard: likeCard,\r\n  onOpenView: openView,\r\n};\r\n\r\n// функция добавления карточки\r\nfunction handleAddCardFormSubmit(evt) {\r\n  evt.preventDefault();\r\n  // Получаем данные из формы\r\n  const name = placeInput.value;\r\n  const link = linkInput.value;\r\n\r\n  // Создаем карточку\r\n  const cardElement = createCard({ name, link }, cardCallbacks);\r\n  // Добавляет новую карточку в начало списка\r\n  placesContainer.prepend(cardElement); \r\n\r\n  // Очищаем форму и закрываем попап\r\n  closeModal(popupCardAdd);\r\n};\r\n\r\nfunction handleFormProfileSubmit(evt) {\r\n  evt.preventDefault(); //отменяет стандартную отправку формы.\r\n  \r\n  profileName.textContent = nameInput.value; // Обновляем имя профиля\r\n  profileJob.textContent = jobInput.value; // Обновляем описание профиля\r\n  closeModal(popupProfile);\r\n};\r\n\r\n// Назначаем обработчики открытия\r\nopenButtonProfile.addEventListener(\"click\", () => {\r\n  // Заполняет форму текущими данными\r\n  nameInput.value = profileName.textContent;\r\n  jobInput.value = profileJob.textContent;\r\n  openModal(popupProfile);\r\n});\r\n\r\nopenButtonCard.addEventListener(\"click\", () => {\r\n  newCardForm.reset(); // Очищает форму\r\n  openModal(popupCardAdd);\r\n});\r\n\r\n// Назначаем обработчики закрытия \r\npopups.forEach((popup) => {\r\n  const closeButton = popup.querySelector(\".popup__close\"); \r\n  closeButton.addEventListener(\"click\", () => {\r\n    closeModal(popup);\r\n  });\r\n  popup.addEventListener(\"click\", handleOverlayClick); // Закрытие по клику на оверлей\r\n\r\n//плавное открытие с помощью класса анимации\r\n//Класс анимации нужно повесить в DOM только один раз при загрузке страницы,\r\n//либо добавить прямо в html для каждого popup(но в этом случае будет баг с мерцанием)\r\n  popup.classList.add('popup_is-animated');\r\n});\r\n\r\n// Назначаем обработчики открытия изменения профиля\r\nprofileForm.addEventListener(\"submit\", handleFormProfileSubmit);\r\n\r\n// Назначаем обработчики добавления карточки\r\nnewCardForm.addEventListener(\"submit\", (evt) => {\r\n  handleAddCardFormSubmit(evt);\r\n});\r\n\r\n// @todo: Вывести карточки на страницу\r\n// заменила функцию на прямое добавление\r\n// function addCardToContainer(containerElement, cardElement) {\r\n//     containerElement.append(cardElement);\r\n// }\r\n// addCardToContainer(placesContainer, cardNode);\r\n\r\n initialCards.forEach((cardObj) => {\r\n    const cardNode = createCard(cardObj, cardCallbacks);\r\n    placesContainer.append(cardNode)\r\n })\r\n\r\n\r\n"],"names":["popupOpendClass","openModal","popupElement","classList","add","document","addEventListener","handleEscape","closeModal","remove","removeEventListener","evt","key","openedPopup","querySelector","concat","handleOverlayClick","target","currentTarget","cardTemplate","getElementById","content","createCard","dataObject","_ref","onDeleteCard","onLikeCard","onOpenView","cardElement","cloneNode","cardImage","cardTitle","cardDeleteButton","likeButton","src","link","alt","name","textContent","enableValidation","formSelector","inputSelector","submitButtonSelector","inactiveButtonClass","inputErrorClass","errorClass","toggleButtonState","inputList","buttonElement","validationConfig","some","inputElement","validity","valid","hasInvalidInput","disabled","Array","from","querySelectorAll","forEach","formElement","errorElement","id","hideInputError","errorMessage","showInputError","validationMessage","isValid","setEventListeners","placesContainer","openButtonProfile","openButtonCard","popups","popupProfile","popupCardAdd","imagePopup","profileForm","forms","newCardForm","nameInput","jobInput","placeInput","linkInput","profileName","profileJob","imageView","captionView","cardCallbacks","toggle","value","reset","popup","preventDefault","prepend","handleAddCardFormSubmit","cardObj","cardNode","append"],"sourceRoot":""}